# –ê–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å–∏—Å—Ç–µ–º–µ –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–∞–Ω/–≥–æ—Ä–æ–¥–æ–≤ –≤ SwingFox

## üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### PHP –≤–µ—Ä—Å–∏—è (Legacy)
‚úÖ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –¢–∞–±–ª–∏—Ü–∞ `geo` —Å ~11,000 –∑–∞–ø–∏—Å–µ–π –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä**: –°—Ç—Ä–∞–Ω–∞ ‚Üí –†–µ–≥–∏–æ–Ω ‚Üí –ì–æ—Ä–æ–¥ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –ø–æ–¥–≥—Ä—É–∑–∫–æ–π
- **AJAX –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ**: –§—É–Ω–∫—Ü–∏—è `getGeo()` —Å –∂–∏–≤—ã–º –ø–æ–∏—Å–∫–æ–º —á–µ—Ä–µ–∑ `datalist`
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤—ã–±–∏—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Å—Ç–∞
- **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ**: –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –≤—Å–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

‚ùå **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –£—Å—Ç–∞—Ä–µ–≤—à–∞—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è (jQuery + PHP)
- –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ AJAX –∑–∞–ø—Ä–æ—Å—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏

### JavaScript –≤–µ—Ä—Å–∏—è (Current) 
‚ùå **–ü—Ä–æ–±–ª–µ–º—ã:**
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ geo —Ç–∞–±–ª–∏—Ü—ã**: –ù–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ü—Ä–æ—Å—Ç—ã–µ text input**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞ –ª—é–±–æ–≥–æ —Ç–µ–∫—Å—Ç–∞, –≤–∫–ª—é—á–∞—è –æ–ø–µ—á–∞—Ç–∫–∏
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏**: –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Å—Ç–∞, –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **–ü–ª–æ—Ö–æ–π UX**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –≤–≤–æ–¥–∏—Ç—å –≤—Å–µ –≤—Ä—É—á–Ω—É—é
- **–ü–æ—Ç–µ—Ä—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**: –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å PHP –≤–µ—Ä—Å–∏–µ–π

## üéØ –¢–µ–∫—É—â–∏–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è country/city

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ([`client/src/pages/Register.js`](client/src/pages/Register.js:1024))
```javascript
// –°—Ç—Ä–æ–∫–∏ 1013-1030: –ü—Ä–æ—Å—Ç—ã–µ text input –±–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
<Input {...register('country')} placeholder="–†–æ—Å—Å–∏—è" />
<Input {...register('city', { required: '–ì–æ—Ä–æ–¥ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω' })} placeholder="–í–∞—à –≥–æ—Ä–æ–¥" />
```

### 2. –ü—Ä–æ—Ñ–∏–ª—å ([`client/src/pages/Profile.js`](client/src/pages/Profile.js:577))
```javascript  
// –°—Ç—Ä–æ–∫–∏ 577-581: –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –≥–æ—Ä–æ–¥–∞
<Input {...register('city', { required: '–ì–æ—Ä–æ–¥ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω' })} placeholder="–í–∞—à –≥–æ—Ä–æ–¥" />
```

### 3. –û–±—ä—è–≤–ª–µ–Ω–∏—è ([`client/src/pages/Ads.js`](client/src/pages/Ads.js:714))
```javascript
// –°—Ç—Ä–æ–∫–∏ 567-569: –§–∏–ª—å—Ç—Ä –ø–æ –≥–æ—Ä–æ–¥—É
<Input placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞..." value={filters.city} />
// –°—Ç—Ä–æ–∫–∏ 714-718: –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
<Input {...register('city', { required: '–ì–æ—Ä–æ–¥ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω' })} placeholder="–í –∫–∞–∫–æ–º –≥–æ—Ä–æ–¥–µ?" />
```

### 4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
**–¢–∞–±–ª–∏—Ü—ã —Å –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º–∏ –ø–æ–ª—è–º–∏:**
- [`users`](migrations/20241217000001-create-users.js:38) (—Å—Ç—Ä–æ–∫–∏ 38-44): `country TEXT`, `city TEXT`
- [`ads`](migrations/20241217000004-create-ads.js:25) (—Å—Ç—Ä–æ–∫–∏ 25-31): `country TEXT`, `city TEXT`  
- [`events`](migrations/20241217000008-create-events.js:38) (—Å—Ç—Ä–æ–∫–∞ 38): `city STRING(100)`

## üìà –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### –≠—Ç–∞–ø 1: –°–æ–∑–¥–∞–Ω–∏–µ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

#### 1.1 –ú–∏–≥—Ä–∞—Ü–∏—è geo —Ç–∞–±–ª–∏—Ü—ã
```javascript
// migrations/20241218000001-create-geo.js
await queryInterface.createTable('geo', {
  id: {
    type: Sequelize.INTEGER,
    primaryKey: true,
    autoIncrement: true
  },
  country: {
    type: Sequelize.STRING(100),
    allowNull: false
  },
  region: {
    type: Sequelize.STRING(100),
    allowNull: true
  },
  city: {
    type: Sequelize.STRING(100),
    allowNull: false
  }
}, {
  indexes: [
    { fields: ['country'] },
    { fields: ['country', 'region'] },
    { fields: ['country', 'city'] }
  ]
});
```

#### 1.2 API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
```javascript
// src/routes/geo.js
router.get('/countries', async (req, res) => {
  const countries = await Geo.findAll({
    attributes: ['country'],
    group: ['country'],
    order: [['country', 'ASC']]
  });
  res.json(countries);
});

router.get('/cities/:country', async (req, res) => {
  const cities = await Geo.findAll({
    where: { country: req.params.country },
    attributes: ['city'],
    order: [['city', 'ASC']]
  });
  res.json(cities);
});
```

### –≠—Ç–∞–ø 2: Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 2.1 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç CountrySelector
```jsx
// client/src/components/CountrySelector.js
import { useState, useEffect } from 'react';

const CountrySelector = ({ value, onChange, error }) => {
  const [countries, setCountries] = useState([]);
  const [isLoading, setIsLoading] = useState(false);
  
  useEffect(() => {
    fetchCountries();
  }, []);
  
  const fetchCountries = async () => {
    setIsLoading(true);
    try {
      const response = await fetch('/api/geo/countries');
      const data = await response.json();
      setCountries(data);
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω:', error);
    } finally {
      setIsLoading(false);
    }
  };
  
  return (
    <Select
      value={value}
      onChange={onChange}
      loading={isLoading}
      placeholder="–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É"
      showSearch
      filterOption={(input, option) =>
        option?.children?.toLowerCase().includes(input.toLowerCase())
      }
      className={error ? 'error' : ''}
    >
      {countries.map(country => (
        <Option key={country.country} value={country.country}>
          {country.country}
        </Option>
      ))}
    </Select>
  );
};
```

#### 2.2 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç CitySelector
```jsx
// client/src/components/CitySelector.js
const CitySelector = ({ country, value, onChange, error }) => {
  const [cities, setCities] = useState([]);
  const [isLoading, setIsLoading] = useState(false);
  
  useEffect(() => {
    if (country) {
      fetchCities(country);
    } else {
      setCities([]);
    }
  }, [country]);
  
  const fetchCities = async (selectedCountry) => {
    setIsLoading(true);
    try {
      const response = await fetch(`/api/geo/cities/${selectedCountry}`);
      const data = await response.json();
      setCities(data);
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≥–æ—Ä–æ–¥–æ–≤:', error);
    } finally {
      setIsLoading(false);
    }
  };
  
  return (
    <Select
      value={value}
      onChange={onChange}
      loading={isLoading}
      placeholder={country ? "–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥" : "–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É"}
      disabled={!country}
      showSearch
      filterOption={(input, option) =>
        option?.children?.toLowerCase().includes(input.toLowerCase())
      }
      className={error ? 'error' : ''}
    >
      {cities.map(city => (
        <Option key={city.city} value={city.city}>
          {city.city}
        </Option>
      ))}
    </Select>
  );
};
```

#### 2.3 –ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç LocationSelector
```jsx
// client/src/components/LocationSelector.js
const LocationSelector = ({ 
  countryValue, 
  cityValue, 
  onCountryChange, 
  onCityChange,
  countryError,
  cityError,
  required = false 
}) => {
  const handleCountryChange = (newCountry) => {
    onCountryChange(newCountry);
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≥–æ—Ä–æ–¥ –ø—Ä–∏ —Å–º–µ–Ω–µ —Å—Ç—Ä–∞–Ω—ã
    if (cityValue) {
      onCityChange('');
    }
  };
  
  return (
    <FormGroup>
      <Label>
        –°—Ç—Ä–∞–Ω–∞ {required && <span className="required">*</span>}
      </Label>
      <CountrySelector
        value={countryValue}
        onChange={handleCountryChange}
        error={countryError}
      />
      {countryError && <ErrorText>{countryError}</ErrorText>}
      
      <Label>
        –ì–æ—Ä–æ–¥ {required && <span className="required">*</span>}
      </Label>
      <CitySelector
        country={countryValue}
        value={cityValue}
        onChange={onCityChange}
        error={cityError}
      />
      {cityError && <ErrorText>{cityError}</ErrorText>}
    </FormGroup>
  );
};
```

### –≠—Ç–∞–ø 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–æ—Ä–º—ã

#### 3.1 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Register.js
```jsx
// –ó–∞–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ 1012-1031
<LocationSelector
  countryValue={watch('country')}
  cityValue={watch('city')}
  onCountryChange={(value) => setValue('country', value)}
  onCityChange={(value) => setValue('city', value)}
  countryError={errors.country?.message}
  cityError={errors.city?.message}
  required={true}
/>
```

#### 3.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Profile.js
```jsx
// –ó–∞–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫—É 577-581
<LocationSelector
  countryValue={watch('country')}
  cityValue={watch('city')}
  onCountryChange={(value) => setValue('country', value)}
  onCityChange={(value) => setValue('city', value)}
  cityError={errors.city?.message}
  required={true}
/>
```

#### 3.3 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Ads.js
```jsx
// –ó–∞–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ 714-718 (—Å–æ–∑–¥–∞–Ω–∏–µ)
<LocationSelector
  countryValue={watch('country')}
  cityValue={watch('city')}
  onCountryChange={(value) => setValue('country', value)}
  onCityChange={(value) => setValue('city', value)}
  cityError={errors.city?.message}
  required={true}
/>

// –ó–∞–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ 567-569 (—Ñ–∏–ª—å—Ç—Ä)
<LocationSelector
  countryValue={filters.country}
  cityValue={filters.city}
  onCountryChange={(value) => setFilters(prev => ({ ...prev, country: value }))}
  onCityChange={(value) => setFilters(prev => ({ ...prev, city: value }))}
  required={false}
/>
```

### –≠—Ç–∞–ø 4: –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

#### 4.1 –°–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ PHP –≤–µ—Ä—Å–∏–∏
```javascript
// scripts/import-geo-data.js
const fs = require('fs');
const { Geo } = require('../src/models');

async function importGeoData() {
  try {
    // –ß–∏—Ç–∞–µ–º SQL —Ñ–∞–π–ª PHP –≤–µ—Ä—Å–∏–∏
    const sqlData = fs.readFileSync('./public_html/kolomigs_swing.sql', 'utf8');
    
    // –ò–∑–≤–ª–µ–∫–∞–µ–º –¥–∞–Ω–Ω—ã–µ geo —Ç–∞–±–ª–∏—Ü—ã (—Å—Ç—Ä–æ–∫–∏ 206-11193)
    const geoMatches = sqlData.match(/INSERT INTO `geo` VALUES \((.*?)\);/g);
    
    const geoData = [];
    geoMatches.forEach(match => {
      const values = match.match(/\('([^']+)','([^']+)','([^']+)'\)/g);
      values.forEach(value => {
        const [, country, region, city] = value.match(/\('([^']+)','([^']+)','([^']+)'\)/);
        geoData.push({ country, region, city });
      });
    });
    
    // –ë–∞—Ç—á–µ–≤–∞—è –≤—Å—Ç–∞–≤–∫–∞ –≤ –Ω–æ–≤—É—é –ë–î
    await Geo.bulkCreate(geoData, { ignoreDuplicates: true });
    
    console.log(`–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ ${geoData.length} –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø–∏—Å–µ–π`);
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö:', error);
  }
}

importGeoData();
```

### –≠—Ç–∞–ø 5: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### 5.1 –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
```javascript
// client/src/hooks/useGeoCache.js
const useGeoCache = () => {
  const CACHE_DURATION = 24 * 60 * 60 * 1000; // 24 —á–∞—Å–∞
  
  const getCachedData = (key) => {
    const cached = localStorage.getItem(`geo_${key}`);
    if (cached) {
      const { data, timestamp } = JSON.parse(cached);
      if (Date.now() - timestamp < CACHE_DURATION) {
        return data;
      }
    }
    return null;
  };
  
  const setCachedData = (key, data) => {
    localStorage.setItem(`geo_${key}`, JSON.stringify({
      data,
      timestamp: Date.now()
    }));
  };
  
  return { getCachedData, setCachedData };
};
```

#### 5.2 –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
```javascript
// src/middleware/validateGeo.js
const validateGeoData = async (req, res, next) => {
  const { country, city } = req.body;
  
  if (country && city) {
    const geoExists = await Geo.findOne({
      where: { country, city }
    });
    
    if (!geoExists) {
      return res.status(400).json({
        error: '–£–∫–∞–∑–∞–Ω–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω—ã –∏ –≥–æ—Ä–æ–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞'
      });
    }
  }
  
  next();
};
```

## üöÄ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1 (1-2 –Ω–µ–¥–µ–ª–∏): –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [ ] –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é geo —Ç–∞–±–ª–∏—Ü—ã
- [ ] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ PHP –≤–µ—Ä—Å–∏–∏  
- [ ] –°–æ–∑–¥–∞—Ç—å API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –§–∞–∑–∞ 2 (1 –Ω–µ–¥–µ–ª—è): Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] –°–æ–∑–¥–∞—Ç—å CountrySelector –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] –°–æ–∑–¥–∞—Ç—å CitySelector –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] –°–æ–∑–¥–∞—Ç—å LocationSelector –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∏–ª–∏ –∏ –∞–Ω–∏–º–∞—Ü–∏–∏

### –§–∞–∑–∞ 3 (1 –Ω–µ–¥–µ–ª—è): –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ—Ñ–∏–ª—è
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –≤ –ø–æ–∏—Å–∫

### –§–∞–∑–∞ 4 (0.5 –Ω–µ–¥–µ–ª–∏): –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –£–ª—É—á—à–µ–Ω–∏—è UX:
- ‚úÖ –£–¥–æ–±–Ω—ã–π –≤—ã–±–æ—Ä –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –ø–æ–∏—Å–∫
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–µ—Å—Ç
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:  
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –¢–∏–ø–∏–∑–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö:
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–ø–µ—á–∞—Ç–æ–∫ –∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- ‚úÖ –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±—É–¥—É—â–∏—Ö –≥–µ–æ—Ñ–∏—á

## üîó –î–∏–∞–≥—Ä–∞–º–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

```mermaid
graph TD
    A[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] --> B[LocationSelector Component]
    B --> C[CountrySelector]
    B --> D[CitySelector]
    
    C --> E[GET /api/geo/countries]
    D --> F[GET /api/geo/cities/:country]
    
    E --> G[Geo Controller]
    F --> G
    
    G --> H[Geo Model]
    H --> I[(geo table)]
    
    G --> J[Cache Layer]
    J --> K[Redis/Memory]
    
    B --> L[Form Validation]
    L --> M[Backend Validation]
    M --> N[Database Save]
    
    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style I fill:#e8f5e8
```

## üí° –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ JavaScript –≤–µ—Ä—Å–∏–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç—É–ø–∞–µ—Ç PHP –≤–µ—Ä—Å–∏–∏ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º—É –æ–ø—ã—Ç—É. –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–∑–≤–æ–ª—è—Ç:

1. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** PHP –≤–µ—Ä—Å–∏–∏ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
2. **–£–ª—É—á—à–∏—Ç—å UX** –∑–∞ —Å—á–µ—Ç –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏  
3. **–ü–æ–≤—ã—Å–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö** —á–µ—Ä–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
4. **–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤—É** –¥–ª—è –±—É–¥—É—â–∏—Ö –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—á–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–§–∞–∑–∞ 1), —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–Ω–∞–∫–æ–º—Å—Ç–≤.