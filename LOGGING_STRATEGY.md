# –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ–ª–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è API SwingFox

## –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
- **ERROR**: –û—à–∏–±–∫–∏ —Å–∏—Å—Ç–µ–º—ã –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **WARN**: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è, –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- **INFO**: –í—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø–µ—Ä–∞—Ü–∏–π
- **DEBUG**: –ü—Ä–æ—Ü–µ—Å—Å—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏, –ø–æ–∏—Å–∫ –≤ –ë–î, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **TRACE**: –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è, –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ–º –Ω–∞ –í–•–û–î–ï (INFO —É—Ä–æ–≤–µ–Ω—å):
- HTTP –º–µ—Ç–æ–¥ –∏ URL
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ (–±–µ–∑ —Ç–æ–∫–µ–Ω–æ–≤)
- –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (–ø–∞—Ä–æ–ª–∏ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è)
- Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- IP –∞–¥—Ä–µ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)

### –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ–º –í –ü–†–û–¶–ï–°–°–ï (DEBUG/TRACE —É—Ä–æ–≤–Ω–∏):
- –í—Å–µ –ø–æ–∏—Å–∫–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å —É—Å–ª–æ–≤–∏—è–º–∏
- –°—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (–ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã, –∫–æ–¥—ã)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π –≤–≤–æ–¥–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- –í—ã—á–∏—Å–ª–µ–Ω–∏—è (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è, –≤–æ–∑—Ä–∞—Å—Ç)
- –û–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏–º–∏—Ç–æ–≤ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

### –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ–º –ù–ê –í–´–•–û–î–ï (INFO —É—Ä–æ–≤–µ–Ω—å):
- HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥
- –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç–æ–∫–µ–Ω—ã —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è)
- –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ (—É—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞)
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞

## –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ —Ä–æ—É—Ç–∞–º

### AUTH —Ä–æ—É—Ç—ã (src/routes/auth.js)

#### POST /login
**–í—Ö–æ–¥:**
- login, password (—Å–∫—Ä—ã—Ç)
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `User.findByLoginOrEmail(login)`
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π: `user.validatePassword(password)`
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞: `generateToken(user)`
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î: `user.update({ auth_token, online })`
**–í—ã—Ö–æ–¥:**
- success, token (—Å–∫—Ä—ã—Ç), user –¥–∞–Ω–Ω—ã–µ

#### POST /send-code
**–í—Ö–æ–¥:**
- email
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è: `User.findOne({ where: { email } })`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–π–º–∞—É—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞: `generateEmailCode()`
- –û—Ç–ø—Ä–∞–≤–∫–∞ email
**–í—ã—Ö–æ–¥:**
- success, message

#### POST /register
**–í—Ö–æ–¥:**
- email, mail_code (—Å–∫—Ä—ã—Ç), login, password (—Å–∫—Ä—ã—Ç), about, individual
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–∞: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ `storedCode` —Å `mail_code`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏: `User.findOne` –ø–æ login –∏ email
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `User.create`
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞: `generateToken(user)`
**–í—ã—Ö–æ–¥:**
- success, token (—Å–∫—Ä—ã—Ç), user –¥–∞–Ω–Ω—ã–µ

#### POST /reset-password
**–í—Ö–æ–¥:**
- email, mail_code (—Å–∫—Ä—ã—Ç), password (—Å–∫—Ä—ã—Ç)
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–∞
- –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `User.findOne({ where: { email } })`
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è: `user.update({ password })`
**–í—ã—Ö–æ–¥:**
- success, message

#### POST /logout
**–í—Ö–æ–¥:**
- auth header
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –û—á–∏—Å—Ç–∫–∞ —Ç–æ–∫–µ–Ω–∞: `User.update({ auth_token: null })`
**–í—ã—Ö–æ–¥:**
- success, message

### USERS —Ä–æ—É—Ç—ã (src/routes/users.js)

#### GET /profile/:login
**–í—Ö–æ–¥:**
- login (URL –ø–∞—Ä–∞–º–µ—Ç—Ä), authorization header
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `User.findOne({ where: { login } })`
- –ü–æ–∏—Å–∫ requestera –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
- –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è: `calculateDistance()`
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: `formatAge()`, `formatOnlineTime()`
**–í—ã—Ö–æ–¥:**
- –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è

#### PUT /profile
**–í—Ö–æ–¥:**
- –î–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `User.findOne({ where: { login: userId } })`
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: `user.update(newData)`
**–í—ã—Ö–æ–¥:**
- success, message, user –¥–∞–Ω–Ω—ã–µ

#### POST /upload-avatar
**–í—Ö–æ–¥:**
- –§–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ–±—Ä–µ–∑–∫–∏
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å Sharp: `extract()`, `resize()`, `png()`
- –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–∞–π–ª–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î: `user.update({ ava })`
**–í—ã—Ö–æ–¥:**
- success, filename, url

#### POST /upload-images
**–í—Ö–æ–¥:**
- –ú–∞—Å—Å–∏–≤ —Ñ–∞–π–ª–æ–≤, type
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ VIP —Å—Ç–∞—Ç—É—Å–∞ –¥–ª—è locked_images
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ —Å Sharp
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫ images/locked_images
**–í—ã—Ö–æ–¥:**
- success, uploaded_files, urls

#### DELETE /images/:filename
**–í—Ö–æ–¥:**
- filename, type query –ø–∞—Ä–∞–º–µ—Ç—Ä
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ —Å–ø–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å –¥–∏—Å–∫–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î
**–í—ã—Ö–æ–¥:**
- success, message

#### POST /set-locked-password
**–í—Ö–æ–¥:**
- password (—Å–∫—Ä—ã—Ç)
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª–∏–Ω—ã –ø–∞—Ä–æ–ª—è
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: `user.update({ images_password })`
**–í—ã—Ö–æ–¥:**
- success, message

#### POST /unlock-images
**–í—Ö–æ–¥:**
- target_user, password (—Å–∫—Ä—ã—Ç)
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ VIP —Å—Ç–∞—Ç—É—Å–∞
- –ü–æ–∏—Å–∫ —Ü–µ–ª–µ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π: `targetUser.images_password === password`
**–í—ã—Ö–æ–¥:**
- success, images, urls

### CHAT —Ä–æ—É—Ç—ã (src/routes/chat.js)

#### GET /:username
**–í—Ö–æ–¥:**
- username, limit, offset
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è: `User.findOne({ where: { login: username } })`
- –ü–æ–∏—Å–∫ —Å–æ–æ–±—â–µ–Ω–∏–π: `Chat.findAll` —Å —É—Å–ª–æ–≤–∏—è–º–∏
- –û—Ç–º–µ—Ç–∫–∞ –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ: `Chat.update({ is_read: true })`
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
**–í—ã—Ö–æ–¥:**
- success, messages, companion, total_count

#### POST /send
**–í—Ö–æ–¥:**
- to_user, message, —Ñ–∞–π–ª—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª—É—á–∞—Ç–µ–ª—è: `User.findOne({ where: { login: to_user } })`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è: `Chat.create`
**–í—ã—Ö–æ–¥:**
- success, message, data

#### GET /status/:username
**–í—Ö–æ–¥:**
- username
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤–æ–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ –≤ userStatuses
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞ –∏–∑ userStatuses
- –†–∞—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ü–æ–∏—Å–∫ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ –ë–î –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
**–í—ã—Ö–æ–¥:**
- username, status, timestamp

#### POST /typing
**–í—Ö–æ–¥:**
- to_user, is_typing
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ userStatuses Map
**–í—ã—Ö–æ–¥:**
- success, message

#### GET /unread-count
**–í—Ö–æ–¥:**
- auth header
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü–æ–¥—Å—á–µ—Ç: `Chat.count({ where: { to_user: currentUser, is_read: false } })`
**–í—ã—Ö–æ–¥:**
- success, unread_count

#### GET /conversations
**–í—Ö–æ–¥:**
- limit, offset
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü–æ–∏—Å–∫ –≤—Å–µ—Ö —á–∞—Ç–æ–≤: `Chat.findAll`
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞–º
- –ü–æ–¥—Å—á–µ—Ç –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ
- –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞—Ö: `User.findAll`
**–í—ã—Ö–æ–¥:**
- success, conversations, total_count

#### DELETE /:username
**–í—Ö–æ–¥:**
- username
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π: `Chat.destroy` –¥–ª—è –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω
**–í—ã—Ö–æ–¥:**
- success, message, deleted_messages

### ADS —Ä–æ—É—Ç—ã (src/routes/ads.js)

#### GET /
**–í—Ö–æ–¥:**
- type, country, city, limit, offset, author
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ WHERE —É—Å–ª–æ–≤–∏–π
- –ü–æ–∏—Å–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π: `Ads.findAll`
- –ü–æ–∏—Å–∫ –∞–≤—Ç–æ—Ä–æ–≤: `User.findAll`
- –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–¥—Å—á–µ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞: `Ads.count`
**–í—ã—Ö–æ–¥:**
- success, ads, pagination

#### POST /create
**–í—Ö–æ–¥:**
- type, description
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π –∏ –¥–ª–∏–Ω—ã
- –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `User.findOne`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –¥–ª—è FREE –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–æ–∑–¥–∞–Ω–∏–µ: `Ads.create`
**–í—ã—Ö–æ–¥:**
- success, message, ad

#### PUT /:id
**–í—Ö–æ–¥:**
- id, type, description
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü–æ–∏—Å–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏—è: `Ads.findOne({ where: { id } })`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤: `ad.login === userLogin`
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: `ad.update`
**–í—ã—Ö–æ–¥:**
- success, message, ad

#### DELETE /:id
**–í—Ö–æ–¥:**
- id
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü–æ–∏—Å–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
- –£–¥–∞–ª–µ–Ω–∏–µ: `ad.destroy()`
**–í—ã—Ö–æ–¥:**
- success, message

#### GET /my
**–í—Ö–æ–¥:**
- limit, offset
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü–æ–∏—Å–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `Ads.findAll({ where: { login: userLogin } })`
- –ü–æ–¥—Å—á–µ—Ç: `Ads.count`
**–í—ã—Ö–æ–¥:**
- success, ads, pagination

#### POST /:id/respond
**–í—Ö–æ–¥:**
- id, message
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü–æ–∏—Å–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ —Å–≤–æ–µ –ª–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
- –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è: `Chat.create`
**–í—ã—Ö–æ–¥:**
- success, message

#### GET /stats
**–í—Ö–æ–¥:**
- VIP –ø—Ä–æ–≤–µ—Ä–∫–∞
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü–æ–¥—Å—á–µ—Ç –æ–±—â–∏—Ö: `Ads.count()`
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø–∞–º: `Ads.findAll` —Å GROUP BY
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –≥–æ—Ä–æ–¥–∞–º: `Ads.findAll` —Å GROUP BY
**–í—ã—Ö–æ–¥:**
- success, stats

### SWIPE —Ä–æ—É—Ç—ã (src/routes/swipe.js)

#### GET /profiles
**–í—Ö–æ–¥:**
- direction
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü–æ–∏—Å–∫ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ï—Å–ª–∏ –Ω–∞–∑–∞–¥ - –ø—Ä–æ–≤–µ—Ä–∫–∞ VIP –∏ –∏—Å—Ç–æ—Ä–∏–∏
- –ï—Å–ª–∏ –≤–ø–µ—Ä–µ–¥ - —Å–ª—É—á–∞–π–Ω—ã–π –ø–æ–∏—Å–∫: `User.findOne` —Å random()
- –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–∞ –∏ –≤—Ä–µ–º–µ–Ω–∏ –æ–Ω–ª–∞–π–Ω
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –≤ userSlideHistory
**–í—ã—Ö–æ–¥:**
- –î–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è

#### POST /like
**–í—Ö–æ–¥:**
- target_user
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –¥–ª—è FREE: `Likes.getTodayLikesCount`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∑–∞–∏–º–Ω–æ–≥–æ –ª–∞–π–∫–∞: `Likes.checkMutualLike`
- –°–æ–∑–¥–∞–Ω–∏–µ –ª–∞–π–∫–∞: `Likes.create`
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∑–∞–∏–º–Ω–æ–≥–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
**–í—ã—Ö–æ–¥:**
- result, message

#### POST /dislike
**–í—Ö–æ–¥:**
- target_user
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü–æ–∏—Å–∫ –≤—Ö–æ–¥—è—â–µ–≥–æ –ª–∞–π–∫–∞: `Likes.findOne`
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
**–í—ã—Ö–æ–¥:**
- result, message

#### POST /superlike
**–í—Ö–æ–¥:**
- target_user, message
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ VIP —Å—Ç–∞—Ç—É—Å–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤: `Likes.getTodaySuperlikes`
- –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ª–∞–π–∫–∞: `Likes.create`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∑–∞–∏–º–Ω–æ—Å—Ç–∏
**–í—ã—Ö–æ–¥:**
- result, message, remaining_count

#### GET /superlike-count
**–í—Ö–æ–¥:**
- auth header
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ VIP —Å—Ç–∞—Ç—É—Å–∞
- –ü–æ–¥—Å—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö: `Likes.getTodaySuperlikes`
- –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è
**–í—ã—Ö–æ–¥:**
- total, used, remaining, vip_type

### ADMIN —Ä–æ—É—Ç—ã (src/routes/admin.js)

#### GET /stats
**–í—Ö–æ–¥:**
- admin –ø—Ä–∞–≤–∞
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–¥—Å—á–µ—Ç—ã: `User.count()`, `Ads.count()`, etc
- –ü–æ–∏—Å–∫ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: `User.findAll`
**–í—ã—Ö–æ–¥:**
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã

#### GET /users
**–í—Ö–æ–¥:**
- search, status, page, limit
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ WHERE —É—Å–ª–æ–≤–∏–π —Å –ø–æ–∏—Å–∫–æ–º
- –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: `User.findAll`
**–í—ã—Ö–æ–¥:**
- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### POST /users/:userId/action
**–í—Ö–æ–¥:**
- userId, action
**–ü—Ä–æ—Ü–µ—Å—Å:**
- –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `User.findByPk(userId)`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è: ban/unban/verify/delete
- –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ - –æ—á–∏—Å—Ç–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
**–í—ã—Ö–æ–¥:**
- message

–ò —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö admin —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤...

## –ü—Ä–∏–º–µ—Ä—ã –ª–æ–≥–æ–≤

### –ü—Ä–∏–º–µ—Ä –ª–æ–≥–∞ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
```
2024-01-20T10:30:15.123Z [INFO] üöÄ [AUTH] POST /login - REQUEST START | User: anonymous | IP: 192.168.1.100
üìÑ Data: {
  "method": "POST",
  "body": { "login": "testuser", "password": "[HIDDEN]" },
  "requestId": "req_abc123"
}

2024-01-20T10:30:15.125Z [DEBUG] üíæ [AUTH] DB SEARCH - users | User: anonymous
üìÑ Data: {
  "operation": "SEARCH",
  "table": "users", 
  "data": { "condition": "login OR email = 'testuser'" },
  "requestId": "req_abc123"
}

2024-01-20T10:30:15.127Z [TRACE] ‚öñÔ∏è [AUTH] COMPARISON: Password validation
üìÑ Data: {
  "expected": "[HIDDEN]",
  "actual": "[HIDDEN]", 
  "result": true,
  "match": true,
  "requestId": "req_abc123"
}

2024-01-20T10:30:15.130Z [DEBUG] üßÆ [AUTH] STEP 1: Token generation | User: testuser
üìÑ Data: {
  "step": 1,
  "data": { "userId": 12345, "login": "testuser" },
  "requestId": "req_abc123"
}

2024-01-20T10:30:15.135Z [INFO] ‚úÖ [AUTH] REQUEST SUCCESS | User: testuser | IP: 192.168.1.100
üìÑ Data: {
  "statusCode": 200,
  "responseData": { "success": true, "token": "[HIDDEN]", "user": {...} },
  "requestId": "req_abc123"
}