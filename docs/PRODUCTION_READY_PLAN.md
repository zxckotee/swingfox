# üöÄ –ü–û–õ–ù–´–ô –ü–õ–ê–ù –î–û–í–ï–î–ï–ù–ò–Ø –°–ò–°–¢–ï–ú–´ –ü–û–î–ü–ò–°–û–ö –î–û –ü–†–û–î–ê–ö–®–ï–ù–ê

## üìã –°–û–î–ï–†–ñ–ê–ù–ò–ï

1. [–ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ](#–∫–æ–Ω—Ç–µ–∫—Å—Ç-–∏-—Ç–µ–∫—É—â–µ–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ)
2. [–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º](#–∞–Ω–∞–ª–∏–∑-–ø—Ä–æ–±–ª–µ–º)
3. [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
4. [–§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è](#—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
5. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å-–∏-–≤–∞–ª–∏–¥–∞—Ü–∏—è)
6. [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
7. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
8. [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
9. [–ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫](#–ø—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π-—Å–ø–∏—Å–æ–∫)
10. [–ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è](#–ø–æ—Ä—è–¥–æ–∫-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)

---

## üîç –ö–û–ù–¢–ï–ö–°–¢ –ò –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

### –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- ‚úÖ –ú–æ–¥–µ–ª–∏: `SubscriptionPlans`, `Subscriptions`, `SubscriptionPayments`
- ‚úÖ –°–µ—Ä–≤–∏—Å: `SubscriptionManager` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- ‚úÖ Cron-–∑–∞–¥–∞—á–∏: `SubscriptionCron` –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- ‚úÖ API —Ä–æ—É—Ç—ã: –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–∏–¥–µ—Ä—ã –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –ø–æ cron
- –°–º–µ–Ω–∞ —Ç–∞—Ä–∏—Ñ–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤
- –ë–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

### –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã):
- ‚ùå API —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º
- ‚ùå –û—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏ —Ç—Ä–µ–±—É–µ—Ç ID (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç)
- ‚ùå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ–º –Ω–µ–ø–æ–ª–Ω–æ–µ
- ‚ùå –ò—Å—Ç–æ—Ä–∏—è –ø–æ–¥–ø–∏—Å–æ–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç rate limiting –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- ‚ùå –ù–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –º–µ—Ç—Ä–∏–∫

---

## üö® –ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú

### 1. **API –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã**

**–ü—Ä–æ–±–ª–µ–º–∞:** –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–∂–∏–¥–∞–µ—Ç –æ–¥–Ω–∏ –ø–æ–ª—è, –±—ç–∫–µ–Ω–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥—Ä—É–≥–∏–µ

**–î–µ—Ç–∞–ª–∏:**
- `/subscriptions/current` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `{subscription, user_type, features}`
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–∂–∏–¥–∞–µ—Ç: `{plan, expires_at, auto_renew, days_remaining}`

**–§–∞–π–ª:** `src/routes/subscriptions.js` —Å—Ç—Ä–æ–∫–∏ 283-307

### 2. **–û—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**

**–ü—Ä–æ–±–ª–µ–º–∞:** –§—Ä–æ–Ω—Ç–µ–Ω–¥ –≤—ã–∑—ã–≤–∞–µ—Ç `cancel(reason)` –±–µ–∑ ID –ø–æ–¥–ø–∏—Å–∫–∏

**–î–µ—Ç–∞–ª–∏:**
- –§—Ä–æ–Ω—Ç–µ–Ω–¥: `subscriptionsAPI.cancel('–ü—Ä–∏—á–∏–Ω–∞')`
- –ë—ç–∫–µ–Ω–¥: `POST /subscriptions/:id/cancel` —Ç—Ä–µ–±—É–µ—Ç ID –≤ URL

**–§–∞–π–ª:** `client/src/services/api.js` –∏ `src/routes/subscriptions.js`

### 3. **–ò—Å—Ç–æ—Ä–∏—è –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**

**–ü—Ä–æ–±–ª–µ–º–∞:** –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–∂–∏–¥–∞–µ—Ç –º–∞—Å—Å–∏–≤ `payments[]`, –ø–æ–ª—É—á–∞–µ—Ç `subscriptions[]`

**–î–µ—Ç–∞–ª–∏:**
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–∂–∏–¥–∞–µ—Ç: `{payments: [...], pagination: {...}}`
- –ë—ç–∫–µ–Ω–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `{subscriptions: [...], pagination: {...}}`

**–§–∞–π–ª:** `src/routes/subscriptions.js` —Å—Ç—Ä–æ–∫–∏ 522-545

### 4. **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ –Ω–µ–ø–æ–ª–Ω–∞—è**

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–î–µ—Ç–∞–ª–∏:**
- API –æ–∂–∏–¥–∞–µ—Ç: `{promo_code, subscription_type, duration_months}`
- –ù–µ—Ç fallback –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è `subscription_type` –∏ `duration_months`

**–§–∞–π–ª:** `src/routes/subscriptions.js` —Å—Ç—Ä–æ–∫–∞ 570

### 5. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ–º –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç API –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏—è –±–µ–∑ ID –ø–æ–¥–ø–∏—Å–∫–∏

**–î–µ—Ç–∞–ª–∏:**
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ä–æ—É—Ç: `PUT /subscriptions/:id/auto-renewal`
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –∑–Ω–∞–µ—Ç ID –ø–æ–¥–ø–∏—Å–∫–∏ –¥–ª—è –≤—ã–∑–æ–≤–∞

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### **–≠–¢–ê–ü 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ API –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**

#### 1.1 –ò—Å–ø—Ä–∞–≤–∏—Ç—å `/subscriptions/current` —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞

**–§–∞–π–ª:** `src/routes/subscriptions.js`  
**–°—Ç—Ä–æ–∫–∏:** 283-307

**–ë—ã–ª–æ:**
```javascript
if (activeSubscription) {
  responseData = {
    has_subscription: true,
    subscription: { /* ... */ },
    features: /* ... */
  };
} else {
  responseData = {
    has_subscription: false,
    user_type: user.viptype,
    expires_at: null,
    features: /* ... */
  };
}
```

**–°—Ç–∞–ª–æ:**
```javascript
if (activeSubscription) {
  responseData = {
    has_subscription: true,
    plan: activeSubscription.subscription_type.toLowerCase(),
    expires_at: activeSubscription.end_date,
    auto_renew: activeSubscription.auto_renewal,
    days_remaining: activeSubscription.getDaysRemaining(),
    subscription: {
      id: activeSubscription.id,
      type: activeSubscription.subscription_type,
      status: activeSubscription.status,
      start_date: activeSubscription.start_date,
      end_date: activeSubscription.end_date,
      auto_renewal: activeSubscription.auto_renewal,
      payment_amount: activeSubscription.payment_amount,
      is_active: activeSubscription.isActive(),
      created_at: activeSubscription.created_at
    },
    features: (await Subscriptions.getFeatures())[activeSubscription.subscription_type]
  };
} else {
  responseData = {
    has_subscription: false,
    plan: user.viptype.toLowerCase(),
    expires_at: null,
    auto_renew: false,
    days_remaining: 0,
    subscription: null,
    features: user.viptype !== 'FREE' ? (await Subscriptions.getFeatures())[user.viptype] : null
  };
}
```

#### 1.2 –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ä–æ—É—Ç –æ—Ç–º–µ–Ω—ã –ø–æ–¥–ø–∏—Å–∫–∏ –±–µ–∑ ID

**–§–∞–π–ª:** `src/routes/subscriptions.js`  
**–î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 414**

```javascript
// POST /api/subscriptions/cancel - –û—Ç–º–µ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
router.post('/cancel', authenticateToken, async (req, res) => {
  const logger = new APILogger('SUBSCRIPTIONS');
  
  try {
    logger.logRequest(req, 'POST /subscriptions/cancel');
    
    const { reason } = req.body;
    const userId = req.user.login;

    // –ù–∞—Ö–æ–¥–∏–º –∞–∫—Ç–∏–≤–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    const subscription = await Subscriptions.getUserActiveSubscription(userId);

    if (!subscription) {
      return res.status(404).json({
        error: 'subscription_not_found',
        message: '–ê–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞'
      });
    }

    // –û—Ç–º–µ–Ω—è–µ–º –ø–æ–¥–ø–∏—Å–∫—É
    await subscription.cancel();
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–º–µ—Ç–∫–∏ —Å –ø—Ä–∏—á–∏–Ω–æ–π –æ—Ç–º–µ–Ω—ã
    if (reason) {
      await subscription.update({ notes: reason });
    }

    // –°–æ–∑–¥–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    await Notifications.create({
      user_id: userId,
      type: 'subscription_cancelled',
      title: '–ü–æ–¥–ø–∏—Å–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞',
      message: `–í–∞—à–∞ ${subscription.subscription_type} –ø–æ–¥–ø–∏—Å–∫–∞ –±—ã–ª–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞.`,
      data: {
        subscription_id: subscription.id,
        end_date: subscription.end_date
      }
    });

    res.json({
      success: true,
      message: '–ü–æ–¥–ø–∏—Å–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–º–µ–Ω–µ–Ω–∞',
      subscription: {
        id: subscription.id,
        status: subscription.status,
        end_date: subscription.end_date
      }
    });

  } catch (error) {
    logger.logError(req, error);
    res.status(500).json({
      error: 'server_error',
      message: '–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ –ø–æ–¥–ø–∏—Å–∫–∏'
    });
  }
});
```

#### 1.3 –î–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ–º –±–µ–∑ ID

**–§–∞–π–ª:** `src/routes/subscriptions.js`  
**–î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 486**

```javascript
// PUT /api/subscriptions/auto-renewal - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ–º –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏
router.put('/auto-renewal', authenticateToken, async (req, res) => {
  const logger = new APILogger('SUBSCRIPTIONS');
  
  try {
    logger.logRequest(req, 'PUT /subscriptions/auto-renewal');
    
    const { auto_renewal } = req.body;
    const userId = req.user.login;

    if (typeof auto_renewal !== 'boolean') {
      return res.status(400).json({
        error: 'invalid_data',
        message: '–ü–∞—Ä–∞–º–µ—Ç—Ä auto_renewal –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å boolean'
      });
    }

    // –ù–∞—Ö–æ–¥–∏–º –∞–∫—Ç–∏–≤–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    const subscription = await Subscriptions.getUserActiveSubscription(userId);

    if (!subscription) {
      return res.status(404).json({
        error: 'subscription_not_found',
        message: '–ê–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞'
      });
    }

    // –û–±–Ω–æ–≤–ª—è–µ–º –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ
    await subscription.update({ auto_renewal });

    res.json({
      success: true,
      message: `–ê–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ ${auto_renewal ? '–≤–∫–ª—é—á–µ–Ω–æ' : '–æ—Ç–∫–ª—é—á–µ–Ω–æ'}`,
      subscription: {
        id: subscription.id,
        auto_renewal: subscription.auto_renewal
      }
    });

  } catch (error) {
    logger.logError(req, error);
    res.status(500).json({
      error: 'server_error',
      message: '–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏—è'
    });
  }
});
```

#### 1.4 –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–æ—É—Ç –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–¥–ø–∏—Å–æ–∫

**–§–∞–π–ª:** `src/routes/subscriptions.js`  
**–°—Ç—Ä–æ–∫–∏:** 522-545

**–ë—ã–ª–æ:**
```javascript
const responseData = {
  subscriptions: subscriptions.map(sub => ({ /* ... */ })),
  pagination: { /* ... */ }
};
```

**–°—Ç–∞–ª–æ:**
```javascript
const responseData = {
  subscriptions: subscriptions.map(sub => ({
    id: sub.id,
    type: sub.subscription_type,
    status: sub.status,
    start_date: sub.start_date,
    end_date: sub.end_date,
    payment_amount: sub.payment_amount,
    payment_method: sub.payment_method,
    auto_renewal: sub.auto_renewal,
    promo_code: sub.promo_code,
    discount_amount: sub.discount_amount,
    created_at: sub.created_at,
    days_remaining: sub.getDaysRemaining(),
    is_active: sub.isActive(),
    is_expired: sub.isExpired()
  })),
  pagination: {
    page: parseInt(page),
    limit: parseInt(limit),
    total: totalCount,
    pages: Math.ceil(totalCount / parseInt(limit))
  },
  // ADD: payments array for frontend compatibility
  payments: subscriptions.map(sub => ({
    id: sub.id,
    plan: sub.subscription_type.toLowerCase(),
    amount: sub.payment_amount,
    created_at: sub.created_at,
    status: sub.status
  }))
};
```

#### 1.5 –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤

**–§–∞–π–ª:** `src/routes/subscriptions.js`  
**–°—Ç—Ä–æ–∫–∞:** 570

**–ë—ã–ª–æ:**
```javascript
const { promo_code, subscription_type, duration_months } = req.body;
```

**–°—Ç–∞–ª–æ:**
```javascript
const { promo_code, subscription_type = 'VIP', duration_months = 1 } = req.body;
```

---

## üì± –§–†–û–ù–¢–ï–ù–î –û–ë–ù–û–í–õ–ï–ù–ò–Ø

### **–≠–¢–ê–ü 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API –º–µ—Ç–æ–¥–æ–≤**

#### 2.1 –ò—Å–ø—Ä–∞–≤–∏—Ç—å API –º–µ—Ç–æ–¥—ã –≤ `client/src/services/api.js`

**–§–∞–π–ª:** `client/src/services/api.js`

**–ë—ã–ª–æ:**
```javascript
export const subscriptionsAPI = {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã ...
  cancel: async (subscriptionId, reason = '') => {
    const response = await apiClient.post(`/subscriptions/${subscriptionId}/cancel`, { reason });
    return response.data;
  }
};
```

**–°—Ç–∞–ª–æ:**
```javascript
export const subscriptionsAPI = {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã ...
  
  // FIX: cancel method - remove subscriptionId parameter
  cancel: async (reason = '') => {
    const response = await apiClient.post('/subscriptions/cancel', { reason });
    return response.data;
  },
  
  // ADD: toggle auto renewal
  toggleAutoRenewal: async (enabled) => {
    const response = await apiClient.put('/subscriptions/auto-renewal', { 
      auto_renewal: enabled 
    });
    return response.data;
  },
  
  // ADD: get user balance
  getBalance: async () => {
    const response = await apiClient.get('/users/balance');
    return response.data;
  }
};
```

#### 2.2 –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–¥–ø–∏—Å–æ–∫

**–§–∞–π–ª:** `client/src/pages/Subscriptions.js`

**–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:**
```javascript
// ADD: auto renewal toggle handler
const handleAutoRenewalToggle = async (enabled) => {
  try {
    await subscriptionsAPI.toggleAutoRenewal(enabled);
    toast.success(`–ê–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ ${enabled ? '–≤–∫–ª—é—á–µ–Ω–æ' : '–æ—Ç–∫–ª—é—á–µ–Ω–æ'}`);
    queryClient.invalidateQueries('subscription-status');
  } catch (error) {
    toast.error(apiUtils.handleError(error));
  }
};

// FIX: cancel subscription handler
const handleCancel = async () => {
  if (window.confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É?')) {
    const reason = prompt('–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–º–µ–Ω—ã (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):');
    try {
      await subscriptionsAPI.cancel(reason || '');
      toast.success('–ü–æ–¥–ø–∏—Å–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞');
      queryClient.invalidateQueries('subscription-status');
    } catch (error) {
      toast.error(apiUtils.handleError(error));
    }
  }
};
```

---

## üõ°Ô∏è –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ò –í–ê–õ–ò–î–ê–¶–ò–Ø

### **–≠–¢–ê–ü 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**

#### 3.1 –î–æ–±–∞–≤–∏—Ç—å rate limiting

**–§–∞–π–ª:** `src/routes/subscriptions.js`  
**–î–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–æ–≤**

```javascript
const rateLimit = require('express-rate-limit');

// Rate limiting for expensive operations
const subscriptionRateLimit = rateLimit({
  windowMs: 15 * 60 * 1000, // 15 minutes
  max: 5, // maximum 5 subscription operations per 15 minutes
  message: '–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ'
});

// Apply to critical routes
router.post('/create', subscriptionRateLimit, authenticateToken, async (req, res) => {
  // ... existing code
});

router.post('/change-plan', subscriptionRateLimit, authenticateToken, async (req, res) => {
  // ... existing code  
});
```

#### 3.2 –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–§–∞–π–ª:** `src/routes/subscriptions.js`  
**–î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–æ–≤**

```javascript
const Joi = require('joi');

const subscriptionSchema = Joi.object({
  subscription_type: Joi.string().valid('VIP', 'PREMIUM').required(),
  duration_months: Joi.number().valid(1, 3, 12).default(1),
  payment_method: Joi.string().valid('balance', 'card', 'yandex_money', 'qiwi', 'paypal', 'crypto').default('balance'),
  promo_code: Joi.string().optional(),
  auto_renewal: Joi.boolean().default(false)
});

// Use in create subscription route
const { error, value } = subscriptionSchema.validate(req.body);
if (error) {
  return res.status(400).json({
    error: 'validation_error',
    message: error.details[0].message
  });
}
```

---

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

### **–≠–¢–ê–ü 4: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**

#### 4.1 –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –º–µ—Ç—Ä–∏–∫

**–§–∞–π–ª:** `src/utils/metrics.js`

```javascript
class SubscriptionMetrics {
  static recordSubscriptionCreated(type, amount) {
    console.log(`üìä [METRICS] Subscription created: ${type}, amount: ${amount}`);
  }
  
  static recordSubscriptionCancelled(type, reason) {
    console.log(`üìä [METRICS] Subscription cancelled: ${type}, reason: ${reason}`);
  }
  
  static recordAutoRenewal(type, success) {
    console.log(`üìä [METRICS] Auto renewal: ${type}, success: ${success}`);
  }
  
  static recordPlanChange(oldType, newType, amount) {
    console.log(`üìä [METRICS] Plan changed: ${oldType} -> ${newType}, amount: ${amount}`);
  }
}

module.exports = SubscriptionMetrics;
```

#### 4.2 –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∞—É–¥–∏—Ç –ª–æ–≥–æ–≤

**–§–∞–π–ª:** `src/utils/auditLog.js`

```javascript
class AuditLog {
  static logFinancialOperation(userId, operation, amount, details) {
    console.log(`üîç [AUDIT] User: ${userId}, Operation: ${operation}, Amount: ${amount}, Details:`, details);
  }
  
  static logSubscriptionChange(userId, oldStatus, newStatus, reason) {
    console.log(`üîç [AUDIT] User: ${userId}, Status: ${oldStatus} -> ${newStatus}, Reason: ${reason}`);
  }
  
  static logAdminAction(adminId, action, targetUserId, details) {
    console.log(`üîç [AUDIT] Admin: ${adminId}, Action: ${action}, Target: ${targetUserId}, Details:`, details);
  }
}

module.exports = AuditLog;
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### **–≠–¢–ê–ü 5: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤**

#### 5.1 –°–æ–∑–¥–∞—Ç—å API —Ç–µ—Å—Ç—ã

**–§–∞–π–ª:** `tests/subscriptions.test.js`

```javascript
const request = require('supertest');
const app = require('../server');

describe('Subscriptions API', () => {
  test('GET /subscriptions/current should return correct structure', async () => {
    const response = await request(app)
      .get('/api/subscriptions/current')
      .set('Authorization', `Bearer ${testToken}`)
      .expect(200);
      
    expect(response.body).toHaveProperty('plan');
    expect(response.body).toHaveProperty('expires_at');
    expect(response.body).toHaveProperty('auto_renew');
    expect(response.body).toHaveProperty('days_remaining');
  });
  
  test('POST /subscriptions/cancel should work without subscription ID', async () => {
    const response = await request(app)
      .post('/api/subscriptions/cancel')
      .set('Authorization', `Bearer ${testToken}`)
      .send({ reason: 'Test cancellation' })
      .expect(200);
      
    expect(response.body.success).toBe(true);
  });
  
  test('PUT /subscriptions/auto-renewal should toggle auto renewal', async () => {
    const response = await request(app)
      .put('/api/subscriptions/auto-renewal')
      .set('Authorization', `Bearer ${testToken}`)
      .send({ auto_renewal: true })
      .expect(200);
      
    expect(response.body.success).toBe(true);
    expect(response.body.message).toContain('–≤–∫–ª—é—á–µ–Ω–æ');
  });
});
```

#### 5.2 –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

**–§–∞–π–ª:** `tests/subscription-integration.test.js`

```javascript
describe('Subscription Integration Tests', () => {
  test('Complete subscription lifecycle', async () => {
    // 1. Create subscription
    const createResponse = await request(app)
      .post('/api/subscriptions/create')
      .set('Authorization', `Bearer ${testToken}`)
      .send({
        subscription_type: 'VIP',
        duration_months: 1,
        payment_method: 'balance'
      })
      .expect(201);
    
    // 2. Check current subscription
    const currentResponse = await request(app)
      .get('/api/subscriptions/current')
      .set('Authorization', `Bearer ${testToken}`)
      .expect(200);
    
    expect(currentResponse.body.has_subscription).toBe(true);
    expect(currentResponse.body.plan).toBe('vip');
    
    // 3. Cancel subscription
    const cancelResponse = await request(app)
      .post('/api/subscriptions/cancel')
      .set('Authorization', `Bearer ${testToken}`)
      .send({ reason: 'Test completion' })
      .expect(200);
    
    expect(cancelResponse.body.success).toBe(true);
  });
});
```

---

## üìö –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

### **–≠–¢–ê–ü 6: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**

#### 6.1 –û–±–Ω–æ–≤–∏—Ç—å API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

**–§–∞–π–ª:** `docs/API_UPDATES.md`

```markdown
# API –û–ë–ù–û–í–õ–ï–ù–ò–Ø –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

## –ù–æ–≤—ã–µ endpoints:
- POST /api/subscriptions/cancel - –û—Ç–º–µ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏
- PUT /api/subscriptions/auto-renewal - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ–º

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –æ—Ç–≤–µ—Ç–æ–≤:

### GET /api/subscriptions/current
**–ë—ã–ª–æ:**
```json
{
  "has_subscription": true,
  "subscription": { ... },
  "user_type": "VIP"
}
```

**–°—Ç–∞–ª–æ:**
```json
{
  "has_subscription": true,
  "plan": "vip",
  "expires_at": "2024-01-28T00:00:00.000Z",
  "auto_renew": true,
  "days_remaining": 15,
  "subscription": { ... }
}
```

### GET /api/subscriptions/history
**–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ:**
```json
{
  "subscriptions": [ ... ],
  "payments": [ ... ],  // NEW
  "pagination": { ... }
}
```

## Breaking changes:
- –û—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –±–æ–ª—å—à–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç subscription ID
- –í—Å–µ —Ü–µ–Ω—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–ª—É—á–∞—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º
```

#### 6.2 –°–æ–∑–¥–∞—Ç—å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É

**–§–∞–π–ª:** `docs/DEPLOYMENT_GUIDE.md`

```markdown
# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥–ø–∏—Å–æ–∫

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Node.js 18+
- PostgreSQL 13+
- Redis (–¥–ª—è rate limiting)

## –®–∞–≥–∏ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞:

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install express-rate-limit joi
```

### 2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
npx sequelize-cli db:migrate
```

### 3. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∏–¥–µ—Ä–æ–≤
```bash
npx sequelize-cli db:seed:all
```

### 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
docker-compose down
docker-compose up --build -d
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
```bash
curl -H "Authorization: Bearer $TOKEN" \
  http://localhost:3000/api/subscriptions/current
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- –õ–æ–≥–∏: `docker-compose logs -f backend`
- –ú–µ—Ç—Ä–∏–∫–∏: –ø—Ä–æ–≤–µ—Ä—è—Ç—å console.log —Å —Ç–µ–≥–∞–º–∏ [METRICS]
- –ê—É–¥–∏—Ç: –ø—Ä–æ–≤–µ—Ä—è—Ç—å console.log —Å —Ç–µ–≥–∞–º–∏ [AUDIT]
```

---

## ‚úÖ –ü–†–û–í–ï–†–û–ß–ù–´–ô –°–ü–ò–°–û–ö

### **API –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ `/subscriptions/current`
- [ ] –î–æ–±–∞–≤–ª–µ–Ω —Ä–æ—É—Ç –æ—Ç–º–µ–Ω—ã –ø–æ–¥–ø–∏—Å–∫–∏ –±–µ–∑ ID
- [ ] –î–æ–±–∞–≤–ª–µ–Ω —Ä–æ—É—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ–º
- [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–¥–ø–∏—Å–æ–∫
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤

### **–§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã API –º–µ—Ç–æ–¥—ã
- [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–ø–∏—Å–æ–∫
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ–º
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- [ ] –î–æ–±–∞–≤–ª–µ–Ω rate limiting
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–æ –∞—É–¥–∏—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –∞–ª–µ—Ä—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –î–æ–±–∞–≤–ª–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] –ù–∞–ø–∏—Å–∞–Ω—ã unit —Ç–µ—Å—Ç—ã
- [ ] –ù–∞–ø–∏—Å–∞–Ω—ã integration —Ç–µ—Å—Ç—ã
- [ ] –ü—Ä–æ–≤–µ–¥–µ–Ω–æ load —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ü—Ä–æ–≤–µ–¥–µ–Ω–æ security —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É
- [ ] –ù–∞–ø–∏—Å–∞–Ω—ã troubleshooting guides
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

---

## üéØ –ü–û–†–Ø–î–û–ö –í–´–ü–û–õ–ù–ï–ù–ò–Ø

### **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ):**
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å API —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
2. –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Ä–æ—É—Ç—ã
3. –û–±–Ω–æ–≤–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ API –º–µ—Ç–æ–¥—ã

### **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ):**
1. –î–æ–±–∞–≤–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é
2. –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
3. –ù–∞–ø–∏—Å–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã

### **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ):**
1. –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
2. –ü—Ä–æ–≤–µ—Å—Ç–∏ load —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
3. –î–æ–±–∞–≤–∏—Ç—å advanced –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

---

## üöÄ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–≠—Ç–æ—Ç –ø–ª–∞–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –í–°–ï –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –¥–æ–≤–µ–¥–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥–ø–∏—Å–æ–∫ –¥–æ –ø—Ä–æ–¥–∞–∫—à–Ω-—É—Ä–æ–≤–Ω—è. 

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- –°–∏—Å—Ç–µ–º–∞ —É–∂–µ –∏–º–µ–µ—Ç solid –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ API
- –¢—Ä–µ–±—É–µ—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è backward compatible

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 2-3 –¥–Ω—è –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è
**–†–∏—Å–∫–∏:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ, –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω—ã–µ
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Production-ready —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: $(date)*  
*–í–µ—Ä—Å–∏—è: 1.0*  
*–°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏*
